
<html>
<head>

<title>Programer's Hub</title>
<link href="program style.css" rel="stylesheet" type="text/css">

</head>

<body>
<header>
  <div class="row">
    <ul class= "hi">
         <li><a class= "top" href="Programer's Hub.html">HOME</a></li>
        <li><a class= "top" href=" ">About Us</a></li>

  </ul>
  </div>


<div class="head">

  <h1 class="abc">File Handling</h1>
  <div class="button">
<p>#include <a><</a>iostream></p>
<p>#include <a><</a>string.h></p>
<p>#include<a><</a>iomanip></p>
<p>#include<a><</a>fstream></p>
<p>#include<a><</a>stdlib.h></p>
<p>#include<a><</a>strings.h></p>
<p>using namespace std;</p>
<p>class stud</p>
<p>{</p>
<p>typedef struct student</p>
<p>{</p>
<p>char name[10];</p>
<p>int rollno;</p>
<p>char div;</p>
<p>char address[20];</p>
<p>}rec;</p>
<p>rec records;</p>

<p>public:</p>
<p>void create(char f[]);</p>
<p>void display(char f[]);</p>
<p>void deletes(char f[]);</p>
<p>void update(char f[]);</p>
<p>int search(char f[]);</p>
<p>void appends(char f[]);</p>

<p>};//class;</p>
<p>void stud:: create(char f[])</p>
<p>{</p>
<p>char ch='y';</p>
<p>fstream seqfile;</p>
<p>seqfile.open(f,ios::in|ios::out|ios::binary);</p>
<p>do{</p>
<p>cout<<"enter name";</p>
<p>cin>>records.name;</p>
<p>cout<<"enter rollno";</p>
<p>cin>>records.rollno;</p>
<p>cout<<"enter division";</p>
<p>cin>>records.div;</p>
<p>cout<<"enter address";</p>
<p>cin>>records.address;</p>
<p>seqfile.write((char*)&records,sizeof(records));</p>
<p>cout<<"do u want to continue";</p>
<p>cin>>ch;</p>
<p>}while(ch=='y'||ch=='Y');</p>
<p>seqfile.close();</p>
<p>}</p>

<p>void stud::display(char f[])</p>
<p>{</p>
<p>int n,m,i;</p>
<p>fstream seqfile;</p>
<p>seqfile.open(f,ios::in|ios::out|ios::binary);</p>
<p>seqfile.seekg(0,ios::beg);</p>
<p>cout<<"contents of file are";</p>
<p>while(seqfile.read((char*)&records,sizeof(records)))</p>
<p>{</p>
<p>if(records.rollno!=-1)</p>
<p>{</p>
<p>cout<<"name"<<a><</a>records<a>.</a>name<a><</a><a><</a>"\n";</p>

<p>cout<<"rollno"<<a><</a>records<a>.</a>rollno<<"\n";</p>
<p>cout<<"enter division"<a><<</a>records<a>.</a>div<<"\n";</p>
<p>cout<<"enter address"<<a><</a>records<a>.</a>address<<"\n";</p>

<p>}</p>
<p>}</p>
<p>int last=seqfile.tellg();</p>
<p>cout<<"total records are"<<a><</a>last;</p>

<p>}</p>
<p>void stud ::update(char f[])</p>
<p>{</p>
<p>int pos;</p>
<p>cout<<"\n For updation ";</p>
<p>fstream seqfile;</p>
<p>seqfile.open(f,ios::in|ios::out|ios::binary);</p>
    <p>seqfile.seekg(0,ios::beg);</p>
    <p>pos=search(f);</p>
    <p>if (pos==-1)</p>
    <p>{</p>
        <p>cout<<"\n Record not found";</p>
        <p>return;</p>
    <p>}</p>
    <p>int offset= pos*sizeof(rec);</p>
    <p>seqfile.seekp(offset);</p>
    <p>cout<<"\n Enter the records to be updated";</p>
    <p>cout<<"\n Name";</p>
    <p>cin>>records.name;</p>
    <p>cout<<"\n Roll No";</p>
    <p>cin>>records.rollno;</p>
    <p>cout<<"\n Div";</p>
    <p>cin>>records.div;</p>
    <p>cout<<"\n Address";</p>
    <p>cin>>records.address;</p>
    <p>seqfile.write((char*)&records,sizeof(records))<<a><</a>flush;</p>
    <p>seqfile.seekg(0);</p>
    <p>seqfile.close();</p>
    <p>cout<<"\n Record updated";</p>
<p>}</p>
<p>void stud::deletes(char f[])</p>
<p>{</p>
    <p>int id,pos;</p>
    <p>cout<<"\n For deletion ";</p>
    <p>fstream seqfile;</p>
    <p>seqfile.open(f,ios::in|ios::out|ios::binary);</p>
    <p>seqfile.seekg(0,ios::beg);</p>
    <p>pos=search(f);</p>
    <p>if (pos==-1)</p>
    <p>{</p>
        <p>cout<<"\n Record not found";</p>
        <p>return;</p>
    <p>}</p>
    <p>int offset= pos*sizeof(rec);</p>
  <p>seqfile.seekp(offset);</p>
    <p>strcpy(records.name," ");</p>
    <p>records.rollno=-1;</p>
    <p>records.div=' ';</p>
    <p>strcpy(records.address," ");</p>
    <p>seqfile.write((char*)&records,sizeof(records))<<a><</a>flush;</p>
    <p>seqfile.seekg(0);</p>
    <p>seqfile.close();</p>
    <p>cout<<"\n Record deleted";</p>
<p>}</p>
<p>void stud::appends(char f[])</p>
<p>{</p>
    <p>cout<<"\n For Appending ";</p>
    <p>fstream seqfile;</p>
    <p>seqfile.open(f,ios::in|ios::out|ios::binary);</p>
    <p>seqfile.seekg(0,ios::beg);</p>
    <p>int i=0;</p>
    <p>while(seqfile.write((char*)&records,sizeof(records)))</p>
    <p>{</p>
        <p>i++;</p>
    <p>}</p>
    <p>seqfile.clear();</p>
    <p>cout<<"\n Enter the records to be appended";</p>
    <p>cout<<"\n Name";</p>
    <p>cin>>records.name;</p>
    <p>cout<<"\n Roll No";</p>
    <p>cin>>records.rollno;</p>
    <p>cout<<"\n Div";</p>
    <p>cin>>records.div;</p>
    <p>cout<<"\n Address";</p>
    <p>cin>>records.address;</p>
    <p>seqfile.write((char*)&records,sizeof(records))<<a><</a>flush;</p>
    <p>seqfile.seekg(0);</p>
    <p>seqfile.close();</p>
    <p>cout<<"\n Record appended";</p>
<p>}</p>
<p>int stud::search(char f[])</p>
<p>{</p>
    <p>int id,pos;</p>
    <p>cout<<"\n For Searching ";</p>
    <p>fstream seqfile;</p>
    <p>cout<<"\n Enter roll no to be searched";</p>
    <p>cin>>id;</p>
    <p>seqfile.open(f,ios::in|ios::out|ios::binary);</p>
    <p>seqfile.seekg(0,ios::beg);</p>
    <p>pos=-1;</p>
    <p>int i=0;</p>
    <p>while(seqfile.read((char*)&records,sizeof(records)))</p>
    <p>{</p>
        <p>if(id==records.rollno)</p>
        <p>{</p>
            <p>pos=i;</p>
            <p>break;</p>
        <p>}</p>
        <p>i++;</p>
    <p>}</p>
    <p>return pos;</p>
<p>}</p>

<p>int main()</p>
<p>{</p>
        <p>stud list;</p>
        <p>int ch1;</p>
        <p>char choice ;</p>
        <p>char filename[20];</p>
        <p>cout<<"enter filename";</p>
        <p>cin>>filename;</p>

                <p>do</p>
                <p>{</p>
                        <p>cout<<"enter choice"</p>
                                        <p>"1.create"</p>
                                        <p>"2.display"</p>
                                        <p>"3.update"</p>
                                        <p>"4.append"</p>
                                        <p>"5.delete"</p>
                                        <p>"6.search";</p>
                        <p>cin>>ch1;</p>

                        <p>switch(ch1)</p>
                        <p>{</p>
                        <p>case 1:list.create(filename);</p>
                        <p>break;</p>
                        <p>case 2:list.display(filename);</p>
                <p>break;</p>
        <p>case 3:list.update(filename);</p>
                <p>break;</p>
        <p>case 4:list.appends(filename);</p>
                <p>break;</p>
        <p>case 5:list.deletes(filename);</p>
                <p>break;</p>
        <p>case 6: int k=list.search(filename);</p>
        <p>cout<<a><</a>k;</p>
                <p>break;</p>

        <p>}//switch</p>
        <p>cout<<"do u want to continue";</p>
        <p>cin>>choice;</p>
        <p>}//do</p>
        <p>while(choice=='y'||choice=='Y');</p>
        <p>return 0;</p>
<p>}</p>


  </div>

</div>


</header>

<footer>
<a>  Devoloped & Designed by <span> <a class="insta h"> Abhishek Dhondge </a> </span> </a>
</footer>



</body>

</html>
